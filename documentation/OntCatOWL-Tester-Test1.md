# OntCatOWL-Tester: Test 1

The OntCatOWL-Tester Test 1 comprises testing all the catalog's eligible classes as input, one at a time. The Tester executes the OntCatOWL using a single class as input (i.e., with known classification) for all classes of all taxonomies, and for all datasets. Eligible classes are the ones with a gUFO ontological category different from the string "other" ([click here](https://github.com/unibz-core/OntCatOWL-Tester/blob/main/documentation/OntCatOWL-Tester-Build.md#ontouml-stereotype-and-gufo-classification) for more information).

As an example, if we have two datasets A and B, with A having two taxonomies A1 and A2 with 10 and 20 eligible classes, respectively, and with B having a single taxonomy B1 with eligible 30 classes, Test 1 is going to execute the OntCatOWL 60 times.

All tests implemented in the OntCatOWL-Tester execute OntCatOWL using it as a package. The tests call the OntCatOWL function `run_ontcatowl_tester`. The called function is a lighter version of the regular OntCatOWL function: it implements the same rules and have the same logics, however it does not allow the use of all arguments and does not present information (both at the screen or in files).

## Contents

- [Objectives and Utility](#objectives-and-utility)
- [Execution Procedures](#execution-procedures)
  - [Resulting Files](#resulting-files)
  - [Resulting Structure](#resulting-structure)
- [Execution Instructions](#execution-instructions)

## Objectives and Utility

The aim of this test is to generate data related to the classes' ontological classifications and graph positions in real taxonomies. The Tester does not perform any analysis, it only provides the data to be analyzed further by interested users. We provide the resulting files generated by an execution of Test 1 in a dedicated repository created for hosting this dataset. Any user can access this dataset using [this link](https://github.com/unibz-core/OntCatOWL-Dataset/).

Through the analysis of the generated dataset, a user must be able to answer the following questions for general research:

- *How much information gain can be obtained by a specific gUFO ontology classification? I.e., how many new classifications can be discovered using that classification?*
- *How much information gain the use of a single class as input can offer on average?*
- *Which gUFO ontology classification provides more information inference?*
- *Which node position provides more information inference?*
- *Is it better to start a model's knowledge acquisition process via the more general concepts or via the more specific concepts?*

Regarding utility for specific models, the analysis of the data resulting from Test 1 can answer questions like:

- *Were inconsistencies or incompleteness found in the model?*
- *Do the inferred classifications match the original classifications?*

## Execution Procedures

For executing Test 1, the user must inform if the Tester must consider the models to be tested as complete or incomplete (more information in [this link](https://github.com/unibz-core/OntCatOWL/blob/main/documentation/OntCatOWL-Execution-Modes.md#models-completeness-modes)), which can be done by using the argument *-c* or *-n*, respectively. The Tester provides this argument to OntCatOWL for each of its executions—the OntCatOWL's `is_automatic` is always set as true for Test 1.

For each of these two configurations, complete or incomplete, the Tester creates a different folder inside each dataset folder for storing the test's resulting files. The folders created by Test 1 are tt001\_ac (when `is_complete` equals true) and tt001\_an (when `is_complete` equals false).

Test 1 is executed for each taxonomy of all datasets. For every taxonomy (*ttl* files generated by the [build function](https://github.com/unibz-core/OntCatOWL-Tester/blob/main/documentation/OntCatOWL-Tester-Build.md)), the Tester creates a list with valid input classes and their corresponding original gUFO classification. The classes included in the input list are the ones with a gUFO ontological category different from the string "other" ([click here](https://github.com/unibz-core/OntCatOWL-Tester/blob/main/documentation/OntCatOWL-Tester-Build.md#ontouml-stereotype-and-gufo-classification) for more information). After creating the list, Test 1 executes the OntCatOWL for all its items, using them as input (i.e., in every OntCatOWL execution, the input is a single class with a known gUFO ontological classification).

If OntCatOWL reports an inconsistency, the Tester reports the inconsistency in a file ([more information in this link](https://github.com/unibz-core/OntCatOWL-Dataset/blob/main/documentation/OntCatOWL-Dataset-Test1.md#inconsistencies-csv-files)), it interrupts the current execution, and starts the next one.

### Resulting Files

The execution of Test 1 results in the generation of the following files:

- Execution summary *csv* files
- Execution statistics *csv* files
- Execution times *csv* files
- Settings *csv* files
- Inconsistencies *csv* files
- Results *yaml* files
- Results *csv* files
- Knowledge Matrix *csv* files
- Divergences *csv* files

You can find the complete description of all output files generated in Test 1 accessing its corresponding page at the repository with the OntCatOWL [tests resulting datasets](https://github.com/unibz-core/OntCatOWL-Dataset/blob/main/documentation/OntCatOWL-Dataset-Test1.md).

### Resulting Structure

Considering the execution of Test 1 on both complete and incomplete execution modes on a dataset with only two taxonomies, the resulting files are structured in the created catalog folder according to the following structure:

```txt
/catalog/
    +---dataset1/
    |   dataset1_tx001.ttl
    |   dataset1_tx002.ttl
    |   data_dataset1_tx001.csv
    |   data_dataset1_tx002.csv
    |   +---tt001_ac/
    |   |   settings_dataset1_tt001_ac.csv
    |   |   summary_dataset1_tt001_ac_tx001.csv
    |   |   summary_dataset1_tt001_ac_tx002.csv
    |   |   statistics_dataset1_tt001_ac_tx001.csv
    |   |   statistics_dataset1_tt001_ac_tx002.csv
    |   |   times_dataset1_tt001_ac_tx001.csv
    |   |   times_dataset1_tt001_ac_tx002.csv
    |   |   inconsistencies_tt001_ac.csv *
    |   |   divergences_tt001_ac.csv *
    |   |   +---results/
    |   |   |   complete_dataset1_tt001_ac_tx001_ex001.yaml
    |   |   |   complete_dataset1_tt001_ac_tx001_ex002.yaml
    |   |   |   ...
    |   |   |   complete_dataset1_tt001_ac_tx001_ex00N.yaml
    |   |   |   complete_dataset1_tt001_ac_tx002_ex001.yaml
    |   |   |   complete_dataset1_tt001_ac_tx002_ex002.yaml
    |   |   |   ...
    |   |   |   complete_dataset1_tt001_ac_tx002_ex00N.yaml
    |   |   |   simple_dataset1_tt001_ac_tx001_ex001.csv
    |   |   |   simple_dataset1_tt001_ac_tx001_ex002.csv
    |   |   |   ...
    |   |   |   simple_dataset1_tt001_ac_tx001_ex00N.csv
    |   |   |   simple_dataset1_tt001_ac_tx002_ex001.csv
    |   |   |   simple_dataset1_tt001_ac_tx002_ex002.csv
    |   |   |   ...
    |   |   |   simple_dataset1_tt001_ac_tx002_ex00N.csv
    |   |   |   matrix_dataset1_tt001_ac_tx001_ex001.csv
    |   |   |   matrix_dataset1_tt001_ac_tx001_ex002.csv
    |   |   |   ...
    |   |   |   matrix_dataset1_tt001_ac_tx001_ex00N.csv
    |   |   |   matrix_dataset1_tt001_ac_tx002_ex001.csv
    |   |   |   matrix_dataset1_tt001_ac_tx002_ex002.csv
    |   |   |   ...
    |   |   |   matrix_dataset1_tt001_ac_tx002_ex00N.csv
    |   +---tt001_an/
    |   |   ... **
    +---dataset2/
    +---dataset3/
    ...
    +---datasetN/
    +---hash_sha256_register.csv
```

\* Please note that the inconsistencies and divergences files are only generated when at least one case is found during the test's execution.

\*\* The structure of tt001_an folder is similar to the structure of the folder tt001_ac.

## Execution Instructions

It is necessary to first execute the Tester's build function to create the structure for the tests. For running the OntCatOWL-Tester's build function, follow the instructions provided [in this link](https://github.com/unibz-core/OntCatOWL-Tester/blob/main/documentation/OntCatOWL-Tester-Build.md#execution-instructions).

For executing the OntCatOWL-Tester Test 1, use the following command, where *-c* or *-n* indicate that the evaluated models must be considered as complete or incomplete:

```txt
python ./src/ontcatowl_tester.py -r1 [-c|-n]
```

Note: the instructions here provided may not work properly in the Tester's current implementation—please refer to [issue #14](https://github.com/unibz-core/OntCatOWL-Tester/issues/14).
